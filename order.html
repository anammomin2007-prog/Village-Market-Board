<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Place Order</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    body { font-family: Arial; background:#f5f7fa; padding:20px; }
    .card { background:#fff; padding:20px; max-width:450px; margin:auto; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
    input, textarea, select { width:100%; padding:10px; margin:10px 0; border-radius:6px; border:1px solid #ccc; }
    button { width:100%; padding:12px; background:#2e7d32; color:white; border:none; border-radius:6px; cursor:pointer; font-size:16px; }
</style>
</head>
<body>

<div class="card">
    <h2>Place Your Order</h2>

    <input id="name" placeholder="Your Name">
    <input id="phone" placeholder="Phone Number">
    <input id="category" placeholder="Category (Vegetables, Fruits, Dairy, etc)">
    <textarea id="items" placeholder="Items (Example: Tomato - 2kg, Onion - 1kg)"></textarea>

   <button onclick="placeOrder(
    document.getElementById('name').value,
    document.getElementById('phone').value,
    document.getElementById('category').value,
    document.getElementById('items').value
)">Submit Order</button>

</div>

<!-- START: Order submit script -->
<script>
const API_URL = "https://script.google.com/macros/s/AKfycby531I65hFxYtMR1e6DLBK8ydH-Vgy2cKeiiFQ2N3ZKfNMt5sYzrz6UO4ZA1CajV-9yzQ/exec";

async function placeOrder(name, phone, category, items) {
  const payload = {
    action: "insert",
    name,
    phone,
    category,
    items,
    time: new Date().toLocaleString(),
    status: "Pending"
  };

  try {
    const res = await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const data = await res.json();

    if (data.result === "inserted") {
      alert("Order submitted!");

      // clear fields
      document.getElementById("name").value = "";
      document.getElementById("phone").value = "";
      document.getElementById("category").value = "";
      document.getElementById("items").value = "";

    } else {
      console.error(data);
      alert("Could not submit order.");
    }

  } catch (err) {
    console.error(err);
    alert("Network error while submitting order.");
  }
}
</script>

</body>
</html>



